<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>cherry-pick | Ertsul&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/png" sizes="32x32" href="https://s2.loli.net/2022/04/02/uCOBfH6XgGUEdPt.png">
    <link rel="shortcut icon" type="image/png" sizes="16x16" href="https://s2.loli.net/2022/04/02/uCOBfH6XgGUEdPt.png">
    <style type="text/css">.logo {height: 2.2rem!important; width: 2.2rem!important;border-radius: 100%;margin-right: 0.8rem;vertical-align: top;}</style>
    <meta name="description" content="记录所学">
    
    <link rel="preload" href="/blog/assets/css/0.styles.214aaa3c.css" as="style"><link rel="preload" href="/blog/assets/js/app.60388011.js" as="script"><link rel="preload" href="/blog/assets/js/2.9a122aa2.js" as="script"><link rel="preload" href="/blog/assets/js/4.c218fafb.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.28c78e66.js"><link rel="prefetch" href="/blog/assets/js/11.feb0ddf0.js"><link rel="prefetch" href="/blog/assets/js/12.b4ed3044.js"><link rel="prefetch" href="/blog/assets/js/13.66896b3b.js"><link rel="prefetch" href="/blog/assets/js/14.b3199019.js"><link rel="prefetch" href="/blog/assets/js/15.5e07c399.js"><link rel="prefetch" href="/blog/assets/js/16.7cfea898.js"><link rel="prefetch" href="/blog/assets/js/17.c4a6bf02.js"><link rel="prefetch" href="/blog/assets/js/18.76a06847.js"><link rel="prefetch" href="/blog/assets/js/19.be51115d.js"><link rel="prefetch" href="/blog/assets/js/20.776dbae1.js"><link rel="prefetch" href="/blog/assets/js/21.e03e0d96.js"><link rel="prefetch" href="/blog/assets/js/22.00008885.js"><link rel="prefetch" href="/blog/assets/js/23.74fc6ed6.js"><link rel="prefetch" href="/blog/assets/js/24.29a58289.js"><link rel="prefetch" href="/blog/assets/js/25.81acd47b.js"><link rel="prefetch" href="/blog/assets/js/26.4f8f8ad0.js"><link rel="prefetch" href="/blog/assets/js/27.2c78cdfa.js"><link rel="prefetch" href="/blog/assets/js/28.a67a65b3.js"><link rel="prefetch" href="/blog/assets/js/29.1ef29bd3.js"><link rel="prefetch" href="/blog/assets/js/3.858ec5b1.js"><link rel="prefetch" href="/blog/assets/js/30.27dc0b30.js"><link rel="prefetch" href="/blog/assets/js/31.1ec7fe1d.js"><link rel="prefetch" href="/blog/assets/js/32.5d25bba1.js"><link rel="prefetch" href="/blog/assets/js/33.c8fda377.js"><link rel="prefetch" href="/blog/assets/js/34.6c2c747c.js"><link rel="prefetch" href="/blog/assets/js/35.5e1eb71e.js"><link rel="prefetch" href="/blog/assets/js/36.0b1f0858.js"><link rel="prefetch" href="/blog/assets/js/37.ec0e791b.js"><link rel="prefetch" href="/blog/assets/js/38.62f9dc5b.js"><link rel="prefetch" href="/blog/assets/js/39.717539ee.js"><link rel="prefetch" href="/blog/assets/js/40.e2f7e5e0.js"><link rel="prefetch" href="/blog/assets/js/41.ace008c4.js"><link rel="prefetch" href="/blog/assets/js/42.fd9f72be.js"><link rel="prefetch" href="/blog/assets/js/43.2e2bea7e.js"><link rel="prefetch" href="/blog/assets/js/44.be720e54.js"><link rel="prefetch" href="/blog/assets/js/45.d92f822a.js"><link rel="prefetch" href="/blog/assets/js/46.3ed0d47b.js"><link rel="prefetch" href="/blog/assets/js/47.981ba6de.js"><link rel="prefetch" href="/blog/assets/js/48.5e21bf76.js"><link rel="prefetch" href="/blog/assets/js/49.e0aea9fc.js"><link rel="prefetch" href="/blog/assets/js/5.7811a1f4.js"><link rel="prefetch" href="/blog/assets/js/50.22df93fd.js"><link rel="prefetch" href="/blog/assets/js/51.d6f5b3a0.js"><link rel="prefetch" href="/blog/assets/js/52.56409112.js"><link rel="prefetch" href="/blog/assets/js/53.05175f2a.js"><link rel="prefetch" href="/blog/assets/js/54.a4c52305.js"><link rel="prefetch" href="/blog/assets/js/55.448828bc.js"><link rel="prefetch" href="/blog/assets/js/56.11fc4fd7.js"><link rel="prefetch" href="/blog/assets/js/57.00f97c1f.js"><link rel="prefetch" href="/blog/assets/js/58.3ff10785.js"><link rel="prefetch" href="/blog/assets/js/59.c8ecf0bf.js"><link rel="prefetch" href="/blog/assets/js/6.41dc5a45.js"><link rel="prefetch" href="/blog/assets/js/60.48af351c.js"><link rel="prefetch" href="/blog/assets/js/61.4d49f635.js"><link rel="prefetch" href="/blog/assets/js/62.c0f7165e.js"><link rel="prefetch" href="/blog/assets/js/63.16c67f1f.js"><link rel="prefetch" href="/blog/assets/js/64.b5ff4146.js"><link rel="prefetch" href="/blog/assets/js/65.3a168359.js"><link rel="prefetch" href="/blog/assets/js/66.49a0b715.js"><link rel="prefetch" href="/blog/assets/js/67.7069ed0e.js"><link rel="prefetch" href="/blog/assets/js/7.303b47c7.js"><link rel="prefetch" href="/blog/assets/js/8.fb239876.js"><link rel="prefetch" href="/blog/assets/js/9.a56c335b.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.214aaa3c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="https://s2.loli.net/2022/04/12/T3dGOP1mI9BZMRw.jpg" alt="Ertsul's Blog" class="logo"> <span class="site-name can-hide">Ertsul's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue-source-code/Vue 源码阅读1 引入vue模块/" class="nav-link">
  Vue 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue3-source-code/vue3 响应式原理/" class="nav-link">
  vue3 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-router/vue-router 源码阅读（一）/" class="nav-link">
  vue-router 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vuex/vuex 源码阅读/" class="nav-link">
  vuex 源码阅读
</a></li><li class="dropdown-item"><!----> <a href="/blog/question-source-code/vue-template-compiler template 编译流程/" class="nav-link">
  带着问题看源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/router/前端路由/" class="nav-link">
  前端路由
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/svg sprite/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-ssr/vue-srr 项目搭建/" class="nav-link">
  Vue SSR
</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/EC AO VO Scope Chain/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/flutter 知识点记录/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/blog/webpack/webpack学习笔记/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/low-code-platform/可视化搭建平台（一）- 流程/" class="nav-link">
  可视化搭建平台
</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/广度优先搜索 BFS 和深度优先搜索 DFS/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/css/3D立体骰子/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/git/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/web-safe/web-safe/" class="nav-link">
  Web Safe
</a></li><li class="dropdown-item"><!----> <a href="/blog/minapp/小程序工程化/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/others/v8 引擎及其 GC 机制/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div> <a href="https://github.com/Ertsul/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue-source-code/Vue 源码阅读1 引入vue模块/" class="nav-link">
  Vue 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue3-source-code/vue3 响应式原理/" class="nav-link">
  vue3 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-router/vue-router 源码阅读（一）/" class="nav-link">
  vue-router 源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/vuex/vuex 源码阅读/" class="nav-link">
  vuex 源码阅读
</a></li><li class="dropdown-item"><!----> <a href="/blog/question-source-code/vue-template-compiler template 编译流程/" class="nav-link">
  带着问题看源码
</a></li><li class="dropdown-item"><!----> <a href="/blog/router/前端路由/" class="nav-link">
  前端路由
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/svg sprite/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-ssr/vue-srr 项目搭建/" class="nav-link">
  Vue SSR
</a></li><li class="dropdown-item"><!----> <a href="/blog/javascript/EC AO VO Scope Chain/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/flutter 知识点记录/" class="nav-link">
  Flutter
</a></li><li class="dropdown-item"><!----> <a href="/blog/webpack/webpack学习笔记/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/low-code-platform/可视化搭建平台（一）- 流程/" class="nav-link">
  可视化搭建平台
</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/广度优先搜索 BFS 和深度优先搜索 DFS/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/css/3D立体骰子/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/git/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/web-safe/web-safe/" class="nav-link">
  Web Safe
</a></li><li class="dropdown-item"><!----> <a href="/blog/minapp/小程序工程化/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/others/v8 引擎及其 GC 机制/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div> <a href="https://github.com/Ertsul/" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blog/git/git.html" class="sidebar-link">git 操作</a></li><li><a href="/blog/git/git-1.html" aria-current="page" class="active sidebar-link">git 操作（补充）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#cherry-pick" class="sidebar-link">cherry-pick</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#rebase" class="sidebar-link">rebase</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#合并多个-commit-为一个-commit" class="sidebar-link">合并多个 commit 为一个 commit</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#删除分支" class="sidebar-link">删除分支</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#恢复分支" class="sidebar-link">恢复分支</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#撤销本地修改" class="sidebar-link">撤销本地修改</a></li><li class="sidebar-sub-header"><a href="/blog/git/git-1.html#其他基本操作" class="sidebar-link">其他基本操作</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="cherry-pick"><a href="#cherry-pick" class="header-anchor">#</a> cherry-pick</h2> <p><em>cherry-pick</em> 可以将分支 <em>B</em> 的任何<strong>一个</strong> <em>commit</em> 合并到分支 <em>A</em>。</p> <p><strong>情景</strong>：<em>dev</em> 分支有两个 <em>commit</em>，分别是：创建 <em>b.txt</em> 文件 <em>commitB</em>、创建 <em>c.txt</em> 文件 <em>commitC</em>。现在我们只想要合并 *commitAB 到 <em>master</em> 分支。下面是 <em>master</em> 和 <em>dev</em> 两个分支的情况：</p> <p><img src="/blog/assets/img/git-27.10655e2a.png" alt="image.png"></p> <p><img src="/blog/assets/img/git-28.0d490d35.png" alt="image.png"></p> <p>如果直接用 <em>git merge</em> 会将 <em>commitC</em> 也合并到 <em>master</em>，这不是我们想要的结果。这时候，<em>cherry-pick</em> 就派上用场了。用法如下：</p> <ul><li>切换到目标分支。</li> <li><em>cherry-pick</em> 待合并的 <em>commitID</em>。</li></ul> <p>上面的情景，只需要：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>git checkout master
git cherry-pick 8f2aa26
</code></pre></div><p>结果如下：</p> <p><img src="/blog/assets/img/git-29.d8beed7f.png" alt="image.png"></p> <p>不过，<em>cherry-pick</em> 只能合并单个指定的 <em>commit</em>。☞ <a href="http://git-scm.com/docs/git-cherry-pick" target="_blank" rel="noopener noreferrer">cherry-pick 更多操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="rebase"><a href="#rebase" class="header-anchor">#</a> rebase</h2> <p><em>rebase变基</em> 是 <em>Git</em> 中整合来自不同分支修改的一种操作。（另一种是 <em>merge</em>）</p> <p><strong>情景1</strong>：<em>dev</em> 分支有两个 <em>commit</em> ，分别是：创建 <em>d.txt</em> 文件 <em>commitD</em>、创建 <em>e.txt</em> 文件 <em>commitE</em>。现在我们想要将 <em>dev</em> 分支的所有 <em>commit</em> 合并到 <em>master</em>。下面是 <em>dev</em> 分支的情况：</p> <p><img src="/blog/assets/img/git-30.433f9a29.png" alt="image.png"></p> <p>想要通过 <em>rebase</em> 变基将 <em>commit</em> 合并到 <em>master</em>，只需要：</p> <ul><li>将 <em>dev</em> 分支变基到 <em>master</em> 分支。</li> <li>切换到 <em>master</em> 分支。</li> <li>执行 <em>merge</em> 操作。</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code>git rebase master
git checkout master 
git merge <span class="token operator">--</span>no-ff dev
</code></pre></div><p>最后结果如下：</p> <p><img src="/blog/assets/img/git-31.899009f1.png" alt="1570868576457.png"></p> <p>通过 <em>rebase</em> 合并分支跟 <em>merge</em> 合并是不一样的。☞ <a href="%5Bhttp://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA%5D(http://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA)">点击查看区别</a></p> <p><strong>情景2</strong>：<em>dev</em> 分支上有四个 <em>commit</em>，顺序分别是：创建 <em>f.txt</em> 文件 <em>commitF</em>、增加 <em>f.txt</em> 文件内容 <em>commitF1</em>、创建 <em>g.txt</em> 文件 <em>commitG</em>、增加 <em>g.txt</em> 文件内容 <em>commitG1</em>。现在只想要将 <em>dev</em> 分支上关于文件 <em>f.txt</em> 的所有操作合并到 <em>master</em> 分支。下面是 <em>dev</em> 分支的情况：</p> <p><img src="/blog/assets/img/git-32.756a1273.png" alt="image.png"></p> <p>现在只想要将 <em>dev</em> 分支上关于文件 <em>f.txt</em> 的所有操作合并到 <em>master</em> 分支，需要：</p> <ul><li>以 <em>f.txt</em> 的最后一个修改的 <em>commitID</em> 新建一个分支 <em>dev-temp</em>。</li> <li>将以 <em>dev-temp</em> 分支上关于 <em>f.txt</em> 的第一个修改的 <em>commitID</em> <em>rabase</em> 变基到 <em>master</em> 分支。</li> <li>切换到 <em>master</em> 分支。</li> <li><em>merge</em> <em>dev-temp</em> 分支到 <em>master</em> 分支。</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code>git checkout <span class="token operator">-</span>b dev-temp 884c858
git rebase <span class="token operator">--</span>onto master 3b0bfd7^
git checkout master 
git merge <span class="token operator">--</span>no-ff dev-temp
</code></pre></div><p><img src="/blog/assets/img/git-33.1c676473.png" alt="image.png"></p> <p><strong>情景3</strong>：<em>dev</em> 分支上有四个 <em>commit</em>，顺序分别是：创建 <em>i.txt</em> 文件 <em>commitI</em>、增加 <em>i.txt</em> 文件内容 <em>commitI1</em>、创建 <em>j.txt</em> 文件 <em>commitJ</em>、增加 <em>j.txt</em> 文件内容 <em>commitJ1</em>。现在只想要将 <em>dev</em> 分支上关于文件 <em>j.txt</em> 的所有操作合并到 <em>master</em> 分支。下面是 <em>dev</em> 分支的情况：（其实跟上面的情况和操作一样）</p> <p><img src="/blog/assets/img/git-34.9028e0bf.png" alt="image.png"></p> <p>现在只想要将 <em>dev</em> 分支上关于文件 <em>j.txt</em> 的所有操作合并到 <em>master</em> 分支，需要：</p> <ul><li>以 <em>j.txt</em> 的最后一个修改的 <em>commitID</em> 新建一个分支 <em>dev-temp1</em>。</li> <li>将以 <em>dev-temp1</em> 分支上关于 <em>j.txt</em> 的第一个修改的 <em>commitID</em> <em>rabase</em> 变基到 <em>master</em> 分支。</li> <li>切换到 <em>master</em> 分支。</li> <li><em>merge</em> <em>dev-temp1</em> 分支到 <em>master</em> 分支。</li></ul> <div class="language-powershell extra-class"><pre class="language-powershell"><code>git checkout <span class="token operator">-</span>b dev-temp1 54ea4bd
git rebase <span class="token operator">--</span>onto master e31249b^
git checkout master 
git merge <span class="token operator">--</span>no-ff dev-temp1
</code></pre></div><p><img src="/blog/assets/img/git-35.7eeb5bba.png" alt="image.png"></p> <p><a href="%5Bhttp://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA%5D(http://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA)">rebase更多操作</a></p> <h2 id="合并多个-commit-为一个-commit"><a href="#合并多个-commit-为一个-commit" class="header-anchor">#</a> 合并多个 commit 为一个 commit</h2> <p>合并多个 <em>commit</em> 为一个 <em>commit</em> 同样需要 <em>rebase</em>。</p> <p>如下图：要将最新的两个 <em>commit</em> 合并为一个 <em>commit</em>。具体操作如下：</p> <ul><li><p>找到这三个 <em>commit</em> 的前一个 <em>commit</em> 的 <em>commitID</em>，执行 <code>git rebase -i commitID</code></p></li> <li><p>这时候会进入 <em>vi</em> 编辑。</p> <ul><li><code>pick</code> 的意思是要会执行这个 <em>commit</em></li> <li><code>squash</code> 的意思是这个 commit 会被合并到前一个 <em>commit</em></li></ul></li> <li><p>之后会进入 <em>vi</em> 编辑 <em>commit</em> 信息。只需要将原先的 <em>commit</em> 信息注释，在顶部添加新的 <em>commit</em> 信息。</p></li> <li><p>完成。</p> <p><img src="/blog/assets/img/git-36.be908b68.png" alt="image.png"></p> <p><img src="/blog/assets/img/git-37.ceed2ca2.png" alt="image.png"></p> <p><img src="/blog/assets/img/git-38.a64e93d1.png" alt="image.png"></p> <p><img src="/blog/assets/img/git-39.8c10cdc3.png" alt="image.png"></p> <p><img src="/blog/assets/img/git-40.3f454cd0.png" alt="image.png"></p></li></ul> <h2 id="删除分支"><a href="#删除分支" class="header-anchor">#</a> 删除分支</h2> <p>删除分支包括删除本地分支和远程分支：</p> <ul><li>删除本地分支
<ul><li>如本地分支不是打开状态，则：<code>git branch -d branchName</code></li> <li>如本地分支是打开状态，则：<code>git branch -D branchName</code></li></ul></li> <li>删除远程分支
<ul><li><code>git push origin --delete branchName</code></li></ul></li></ul> <h2 id="恢复分支"><a href="#恢复分支" class="header-anchor">#</a> 恢复分支</h2> <p>恢复分支，我们只需要以之前分支的 <em>commitID</em> 新开一个分支即可。</p> <p><img src="/blog/assets/img/git-41.7b9d4d2f.png" alt="image.png"></p> <p>如果不记得 <em>commitID</em>，可以通过 <em>git reflog</em> 进行查看。</p> <p><img src="/blog/assets/img/git-42.05a42038.png" alt="1570871432663.png"></p> <h2 id="撤销本地修改"><a href="#撤销本地修改" class="header-anchor">#</a> 撤销本地修改</h2> <ul><li><p>撤销指定本地文件的修改（未提交状态）：<code>git checkout -- fileName</code></p> <p><img src="/blog/assets/img/git-43.ce6690f3.png" alt="image.png"></p></li> <li><p>撤销本地的所有修改（未提交状态）：<code>git reset --hard</code></p> <p><img src="/blog/assets/img/git-44.12c14cb1.png" alt="image.png"></p></li></ul> <h2 id="其他基本操作"><a href="#其他基本操作" class="header-anchor">#</a> 其他基本操作</h2> <ul><li>生成本地的 <em>key</em>，并添加到远程仓库</li></ul> <div class="language- extra-class"><pre class="language-text"><code>ssh-keygen -t rsa
</code></pre></div><ul><li>初始化本地目录</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git init
</code></pre></div><ul><li>添加到本地仓库</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git add filename
</code></pre></div><ul><li>提交到仓库（<em>git</em> 提交的是修改）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git commit -m &quot;description&quot;
</code></pre></div><ul><li>查看仓库状态</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git status
</code></pre></div><ul><li>查看不同点</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git diff filename
</code></pre></div><ul><li>版本回退</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git reset --hard
</code></pre></div><ul><li>第一分支 <em>master</em> 创建分支 <em>v1</em> （<em>HEAD</em> 指向当前分支）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 创建并指向新分支
git checkout -b v1 
// 分步执行
git branch v1
git checkouut v1
</code></pre></div><ul><li>合并到当前分支</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git merge v1
</code></pre></div><ul><li>删除指定分支</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git branch -d v1
</code></pre></div><ul><li>指定分支将远程仓库的代码拉到本地</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git clone gitAddress -b branchName
</code></pre></div><ul><li>将本地的代码提交到远程仓库</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git pull    //获取最新的更改
git add modefied_filename
git commit -m &quot;description&quot;
git push  // 推送
</code></pre></div><ul><li>冲突解决
可以用上面的方法解决就解决，不行的话就用下面的方法：
<ul><li>用远程仓库的代码完全覆盖本地代码。</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>git reset --hard // 版本回退
git pull

</code></pre></div><ul><li>修改 commit 提交的内容</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git commit --amend

</code></pre></div><ul><li>打印 log 数量</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git log -p -3

</code></pre></div><ul><li>文件被添加到暂存区，撤销该文件到工作目录</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git reset HEAD fliename

</code></pre></div><ul><li>工作目的删除文件后，还有在暂存区中删除该文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>rm filename
git rm filename

</code></pre></div><ul><li>撤销对当前文件的修改，恢复到上一次快照的状态</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git checkout -- filename

</code></pre></div><ul><li><em>HEAD</em> 指针指向当前的分支，提交后都会快进（<em>fast-forward</em> ：指针右移）。</li> <li><em>rebase</em> 合并分支
变基是将一系列提交按照原有次序依次应用到另一分支上，而合并是把最终结果合在一起。使得提交历史更加整洁。 你在查看一个经过变基的分支的历史记录时会发现，尽管实际的开发工作是并行的，但它们看上去就像是串行的一样，提交历史是一条直线没有分叉。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>git checkout dev
......修改......
git add filename
git commit -m &quot;......&quot;
git rebase master
git checkout master
git merge dev

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/git/git.html" class="prev">
        git 操作
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/app.60388011.js" defer></script><script src="/blog/assets/js/2.9a122aa2.js" defer></script><script src="/blog/assets/js/4.c218fafb.js" defer></script>
  </body>
</html>
